{"version":3,"sources":["components/Loader/Loader.jsx","icons/sns.svg","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","services/gallery-service.js","components/Context/Context.js","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Section/Section.jsx","components/IconButton/IconButton.jsx","icons/close.svg","components/Modal/Modal.jsx","App.js","index.js"],"names":["LoaderSpinner","className","type","color","height","width","timeout","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","error","this","Provider","size","name","autoComplete","autoFocus","placeholder","onChange","Component","Button","onClick","fetchGallery","currentPage","axios","get","then","response","data","hits","createContext","ImageGallery","gallery","map","image","id","webformatURL","largeImageURL","previewURL","Consumer","hadleImageClick","src","data-src","alt","data-large","ImageGalleryItem","Section","children","IconButton","allyProps","defaultProps","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","SvgClose","_ref","svgRef","title","titleId","style","enableBackground","viewBox","xmlSpace","xmlns","xmlnsXlink","ref","ForwardRef","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handelBackdropClick","window","addEventListener","removeEventListener","createPortal","aria-label","fill","App","isLoading","search","selectedImgURL","selectedLowQImgUrl","isModalOpen","nodeName","fullImgLink","getAttribute","fetchPictures","images","prevState","catch","finally","onLoadMoreBtnClick","options","top","behavior","pageYOffset","documentElement","clientHeight","setTimeout","scrollTo","lowSrc","toggleModal","body","overflowY","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a122009f.chunk.js","sourcesContent":["import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport './Loader.css';\n\nexport default function LoaderSpinner() {\n  return (\n    <Loader\n      className=\"Loader App-logo\"\n      type=\"Circles\"\n      color=\"#00BFFF\"\n      height={300}\n      width={300}\n      timeout={3000} //3 secs\n    />\n  );\n}\n","export default __webpack_public_path__ + \"static/media/sns.1c751e03.svg\";","import React, { Component } from 'react';\nimport './Searchbar.css';\nimport { error } from '@pnotify/core';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport '@pnotify/core/dist/PNotify.css';\nimport logo from '../../icons/sns.svg';\nimport { FaSearchengin } from 'react-icons/fa';\nimport { IconContext } from 'react-icons';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.currentTarget.value,\n    });\n  };\n\n  handleSubmit = e => {\n    const { query } = this.state;\n    e.preventDefault();\n    if (!query) {\n      error('Search field is empty!');\n      return;\n    }\n\n    this.props.onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <div className=\"logobox\">\n          <IconContext.Provider\n            value={{ color: 'black', size: '1.5em', className: 'react-icons' }}\n          >\n            <div>\n              <FaSearchengin />\n            </div>\n          </IconContext.Provider>\n          <span className=\"logobox__text\">Search and Save</span>\n        </div>\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={query}\n            className=\"SearchForm-input\"\n            name=\"form_input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport './Button.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = '18944189-177b692c9d9a1e8dfd1f135d6';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n// axios.defaults.headers.common['Aithorization'] = 'Bearer 18944189-177b692c9d9a1e8dfd1f135d6'\n\nconst fetchGallery = (query, currentPage) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${query}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default fetchGallery;\n","import { createContext } from 'react';\n\nexport default createContext();\n","import React from 'react';\nimport './ImageGallery.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nexport default function ImageGallery({ gallery }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map(image => ImageGalleryItem(image))}\n    </ul>\n  );\n}\n","import React from 'react';\nimport './ImageGalleryItem.css';\nimport authContext from '../Context';\nimport 'lazysizes';\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\n\nexport default function ImageGalleryItem({\n  id,\n  webformatURL,\n  largeImageURL,\n  previewURL,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\" key={`id-${id}`}>\n      <authContext.Consumer>\n        {hadleImageClick => (\n          <img\n            src={previewURL}\n            data-src={webformatURL}\n            alt=\"searchedPicture\"\n            data-large={largeImageURL}\n            className=\"ImageGalleryItem-image lazyload blur-up\"\n            onClick={hadleImageClick}\n          />\n        )}\n      </authContext.Consumer>\n    </li>\n  );\n}\n","import React from 'react';\nimport './Section.css';\n\nexport default function Section({ children }) {\n  return <div className=\"Section\">{children}</div>;\n}\n","import React from 'react';\nimport './IconButton.scss';\nimport PropTypes from 'prop-types';\n\nconst IconButton = ({ children, onClick, ...allyProps }) => (\n  <button type=\"button\" className=\"IconButton\" onClick={onClick} {...allyProps}>\n    {children}\n  </button>\n);\n\nIconButton.defaultProps = {\n  onClick: () => null,\n  children: null,\n};\n\nIconButton.propTypes = {\n  onClick: PropTypes.func,\n  children: PropTypes.node,\n  'aria-label': PropTypes.string.isRequired,\n};\n\nexport default IconButton;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z\"\n});\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512px\",\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    viewBox: \"0 0 512 512\",\n    width: \"512px\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.c39ccb73.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport './Modal.scss';\nimport IconButton from '../IconButton/IconButton';\nimport { ReactComponent as CloseIcon } from '../../icons/close.svg';\n\nconst modalRoot = document.querySelector('#modal-root');\n\n// переиспользуемая модалка, как children любой контент передаем\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  // закрытие по клику эскпейпа\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  //   закрытие по клику в бэкдроп\n  handelBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    // \"портал\" для модалки (убирает костыль с z-index и оверфлоу)\n    return createPortal(\n      <div className=\"Modal__backdrop\" onClick={this.handelBackdropClick}>\n        <div className=\"Modal__content\">\n          <IconButton\n            className=\"Modal__close IconButton\"\n            aria-label=\"Close Modal icon\"\n            onClick={this.props.onClose}\n          >\n            <CloseIcon width=\"32\" height=\"32\" fill=\"#black\" />\n          </IconButton>\n          {this.props.children}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport LoaderSpinner from './components/Loader';\nimport Seachbar from './components/Searchbar';\nimport Button from './components/Button';\nimport fetchGallery from './services/gallery-service';\nimport ImageGallery from './components/ImageGallery';\nimport Section from './components/Section';\nimport Modal from './components/Modal';\nimport authContext from './components/Context';\nimport 'lazysizes';\n\nexport default class App extends Component {\n  state = {\n    gallery: [],\n    currentPage: 1,\n    isLoading: false,\n    search: '',\n    error: null,\n    selectedImgURL: '',\n    selectedLowQImgUrl: '',\n    isModalOpen: false,\n    hadleImageClick: e => {\n      if (e.target.nodeName !== 'IMG') {\n        return;\n      }\n\n      e.preventDefault();\n      const fullImgLink = e.target.getAttribute('data-large');\n      this.setState({\n        selectedImgURL: fullImgLink,\n        isModalOpen: true,\n      });\n    },\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.fetchPictures();\n    }\n  }\n\n  fetchPictures = () => {\n    const { search, currentPage } = this.state;\n\n    this.setState({ isLoading: true });\n\n    fetchGallery(search, currentPage)\n      .then(images => {\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.onLoadMoreBtnClick();\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleSubmit = query => {\n    if (query !== this.state.search) {\n      this.setState({\n        gallery: [],\n        search: query,\n        currentPage: 1,\n        error: null,\n      });\n    }\n  };\n\n  onLoadMoreBtnClick = () => {\n    if (this.state.currentPage > 2) {\n      const options = {\n        top: null,\n        behavior: 'smooth',\n      };\n\n      options.top = window.pageYOffset + document.documentElement.clientHeight;\n      setTimeout(() => {\n        window.scrollTo(options);\n      }, 1000);\n    }\n  };\n\n  hadleImageClick = e => {\n    if (e.target.nodeName !== 'IMG') {\n      return;\n    }\n\n    e.preventDefault();\n\n    const fullImgLink = e.target.getAttribute('data-large');\n    const lowSrc = e.target.getAttribute('src');\n\n    this.setState({\n      selectedImgURL: fullImgLink,\n      selectedLowQImgUrl: lowSrc,\n      isModalOpen: true,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState({\n      isModalOpen: !this.state.isModalOpen,\n    });\n\n    if (this.state.isModalOpen) {\n      document.body.style.overflowY = 'hidden';\n    }\n  };\n\n  render() {\n    const {\n      search,\n      gallery,\n      isLoading,\n      selectedImgURL,\n      isModalOpen,\n      hadleImageClick,\n      selectedLowQImgUrl,\n    } = this.state;\n\n    return (\n      <>\n        <Seachbar onSubmit={this.handleSubmit} />\n\n        {isLoading && (\n          <Section>\n            <LoaderSpinner />\n          </Section>\n        )}\n\n        <authContext.Provider value={hadleImageClick}>\n          {search && <ImageGallery gallery={gallery} />}\n        </authContext.Provider>\n\n        {isModalOpen && (\n          <Modal onClose={this.toggleModal}>\n            <img\n              src={selectedLowQImgUrl}\n              data-src={selectedImgURL}\n              alt=\"fullsizeImage\"\n              className=\"lazyload blur-up\"\n            ></img>\n          </Modal>\n        )}\n\n        <Section>{search && <Button onClick={this.fetchPictures} />}</Section>\n      </>\n    );\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}