(this["webpackJsonpcreate-react-app-template"]=this["webpackJsonpcreate-react-app-template"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},60:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),c=n.n(r),o=n(10),l=n.n(o),i=(n(32),n(12)),s=n(5),u=n(6),d=n(8),h=n(7),b=(n(33),n(22)),p=n.n(b);n(55);function m(){return Object(a.jsx)(p.a,{className:"Loader App-logo",type:"Circles",color:"#00BFFF",height:300,width:300,timeout:3e3})}n(56);var j=n(23),f=(n(58),n(59),n.p,n(24)),g=n(0),O=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){var n=e.state.query;t.preventDefault(),n?(e.props.onSubmit(n),e.setState({query:""})):Object(j.error)("Search field is empty!")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.query;return Object(a.jsxs)("header",{className:"Searchbar",children:[Object(a.jsxs)("div",{className:"logobox",children:[Object(a.jsx)(g.b.Provider,{value:{color:"black",size:"1.5em",className:"react-icons"},children:Object(a.jsx)("div",{children:Object(a.jsx)(f.a,{})})}),Object(a.jsx)("span",{className:"logobox__text",children:"Search and Save"})]}),Object(a.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{value:e,className:"SearchForm-input",name:"form_input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})]})}}]),n}(r.Component);n(60);function v(e){var t=e.onClick;return Object(a.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}var y=n(25),x=n.n(y),w=function(e,t){return x.a.get("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("18944189-177b692c9d9a1e8dfd1f135d6","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},k=(n(78),n(79),Object(r.createContext)());n(9),n(80);function C(e){var t=e.gallery;return Object(a.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,c=e.previewURL;return Object(a.jsx)("li",{className:"ImageGalleryItem",children:Object(a.jsx)(k.Consumer,{children:function(e){return Object(a.jsx)("img",{src:c,"data-src":n,alt:"searchedPicture","data-large":r,className:"ImageGalleryItem-image lazyload blur-up",onClick:e})}})},"id-".concat(t))}(e)}))})}n(81);function S(e){var t=e.children;return Object(a.jsx)("div",{className:"Section",children:t})}n(82);var L=n(13),I=n(26),N=(n(83),function(e){var t=e.children,n=e.onClick,r=Object(I.a)(e,["children","onClick"]);return Object(a.jsx)("button",Object(L.a)(Object(L.a)({type:"button",className:"IconButton",onClick:n},r),{},{children:t}))});N.defaultProps={onClick:function(){return null},children:null};var M=N;function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _=r.createElement("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"});function B(e,t){var n=e.title,a=e.titleId,c=U(e,["title","titleId"]);return r.createElement("svg",P({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,_)}var E=r.forwardRef(B),F=(n.p,document.querySelector("#modal-root")),D=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handelBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(a.jsx)("div",{className:"Modal__backdrop",onClick:this.handelBackdropClick,children:Object(a.jsxs)("div",{className:"Modal__content",children:[Object(a.jsx)(M,{className:"Modal__close IconButton","aria-label":"Close Modal icon",onClick:this.props.onClose,children:Object(a.jsx)(E,{width:"32",height:"32",fill:"#black"})}),this.props.children]})}),F)}}]),n}(r.Component),R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={gallery:[],currentPage:1,isLoading:!1,search:"",error:null,selectedImgURL:"",selectedLowQImgUrl:"",isModalOpen:!1,hadleImageClick:function(t){if("IMG"===t.target.nodeName){t.preventDefault();var n=t.target.getAttribute("data-large");e.setState({selectedImgURL:n,isModalOpen:!0})}}},e.fetchPictures=function(){var t=e.state,n=t.search,a=t.currentPage;e.setState({isLoading:!0}),w(n,a).then((function(t){e.setState((function(e){return{gallery:[].concat(Object(i.a)(e.gallery),Object(i.a)(t)),currentPage:e.currentPage+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){e.onLoadMoreBtnClick(),e.setState({isLoading:!1})}))},e.handleSubmit=function(t){t!==e.state.search&&e.setState({gallery:[],search:t,currentPage:1,error:null})},e.onLoadMoreBtnClick=function(){if(e.state.currentPage>2){var t={top:null,behavior:"smooth"};t.top=window.pageYOffset+document.documentElement.clientHeight,setTimeout((function(){window.scrollTo(t)}),1e3)}},e.hadleImageClick=function(t){if("IMG"===t.target.nodeName){t.preventDefault();var n=t.target.getAttribute("data-large"),a=t.target.getAttribute("src");e.setState({selectedImgURL:n,selectedLowQImgUrl:a,isModalOpen:!0})}},e.toggleModal=function(){e.setState({isModalOpen:!e.state.isModalOpen}),e.state.isModalOpen&&(document.body.style.overflowY="hidden")},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){t.search!==this.state.search&&this.fetchPictures()}},{key:"render",value:function(){var e=this.state,t=e.search,n=e.gallery,r=e.isLoading,c=e.selectedImgURL,o=e.isModalOpen,l=e.hadleImageClick,i=e.selectedLowQImgUrl;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O,{onSubmit:this.handleSubmit}),r&&Object(a.jsx)(S,{children:Object(a.jsx)(m,{})}),Object(a.jsx)(k.Provider,{value:l,children:t&&Object(a.jsx)(C,{gallery:n})}),o&&Object(a.jsx)(D,{onClose:this.toggleModal,children:Object(a.jsx)("img",{src:i,"data-src":c,alt:"fullsizeImage",className:"lazyload blur-up"})}),Object(a.jsx)(S,{children:t&&Object(a.jsx)(v,{onClick:this.fetchPictures})})]})}}]),n}(r.Component);l.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(R,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.a122009f.chunk.js.map